extern /prod18/gdas/enkf/jgdas_enkf_post
suite prod00
  repeat day 1
  edit ECF_TRIES '1'
  #edit ECF_JOB_CMD 'lsub %ECF_JOB% %ECF_JOBOUT% xc40-dev'
  edit ECF_JOB_CMD 'lsub %ECF_JOB% %ECF_JOBOUT% %MACHINE%'
  edit ECF_KILL_CMD 'lkill %ECF_NAME% %ECF_JOBOUT%'
  edit ECF_HOME '/gpfs/hps3/emc/hwrf/noscrub/Bin.Liu/save/gitCROW/model/ecflow_fv3gfs'
  #edit ECF_HOME '/gpfs/hps3/emc/global/noscrub/emc.glopara/ecflow/fv3'
  edit CYC '00'
  edit ENVIR 'prod'
  edit E 'jecffv3'
  #edit QUEUE 'dev'
  edit QUEUE 'debug'
  edit PROJENVIR 'GFS-T2O'
  edit EMCPEN 'ecfgfsfv3'
  edit COM '/gpfs/hps2/ptmp/emc.glopara/ecfgfsfv3/com'
  edit QUEUESERV 'dev_transfer'
  edit DATAROOT '/gpfs/hps2/stmp/emc.glopara/ecfgfsfv3'
  edit ECF_FILES '/gpfs/hps3/emc/hwrf/noscrub/Bin.Liu/save/gitCROW/model/ecflow_fv3gfs/scripts'
  edit ECF_OUT '/gpfs/hps3/emc/hwrf/noscrub/Bin.Liu/save/gitCROW/model/ecflow_fv3gfs/output'
  edit ECF_LOG '/gpfs/hps3/emc/hwrf/noscrub/Bin.Liu/save/gitCROW/model/ecflow_fv3gfs/ecf.log'
  family gfs
    family dump
      task jgfs_tropcy_qc_reloc
        trigger ./jgfs_dump == complete
         event 1 jtwc_bull_email
      endtask
      task jgfs_dump
         event 1 release_sfcprep
      endtask
    endfamily
    family prep
      task jgfs_emcsfc_sfc_prep
        trigger ../dump/jgfs_dump:release_sfcprep
      endtask
      task jgfs_prep
        trigger ../dump == complete
      endtask
      task jgfs_prep_post
        trigger ../jgfs_analysis == complete
      endtask
    endfamily
    task jgfs_analysis
      trigger ./prep/jgfs_prep == complete and ./prep/jgfs_emcsfc_sfc_prep == complete
    endtask
    task jgfs_vminmon
      trigger ./jgfs_analysis == complete
    endtask
    family forecast
      task jgfs_forecast_high
        trigger ../jgfs_analysis == complete
      endtask
      task jgfs_forecast_low
        trigger ./jgfs_forecast_high == complete
      endtask
    endfamily
    family sminit_guam
      task jgfs_sminit_guam_even
        trigger ../post == complete
      endtask
      task jgfs_sminit_guam_odd
        trigger ../post == complete
      endtask
    endfamily
    family post_processing
      task dummy
        trigger ../forecast == complete
      endtask
    endfamily
    family post
      task dummy
        trigger ../forecast == complete
      endtask
    endfamily
    family prdgen
      task dummy
        trigger ../post == complete
      endtask
      task jgfs_pgrb2_manager
        trigger ../post == complete
         event 1 release_pgrb2_00
         event 1 release_post384
      endtask
    endfamily
    family gempak
      task jgfs_gempak_upapgif
        trigger ../dump/jgfs_dump == complete
      endtask
      task jgfs_gempak_ncdc
        trigger ./jgfs_gempak == active
      endtask
      task jgfs_gempak
        trigger ../jgfs_analysis == complete
      endtask
      task jgfs_gempak_meta
        trigger ../jgfs_analysis == complete
      endtask
    endfamily
  endfamily
  family gdas
    task jgdas_verfrad
      trigger ./enkf == complete
    endtask
    task jgdas_vminmon
      trigger ./analysis/jgdas_analysis_high == complete
    endtask
    family dump
      task jgdas_ics
         event 1 release_gdas00_ics
      endtask
      task jgdas_tropcy_qc_reloc
        trigger ./jgdas_dump == complete
      endtask
      task jgdas_dump
         event 1 release_sfcprep
      endtask
    endfamily
    family prep
      task jgdas_emcsfc_sfc_prep
        trigger ../dump/jgdas_dump:release_sfcprep
      endtask
      task jgdas_prep
        trigger ../dump/jgdas_dump == complete and ../dump/jgdas_tropcy_qc_reloc == complete
      endtask
      task jgdas_prep_post
        trigger ../analysis/jgdas_analysis_high == complete
      endtask
    endfamily
    family analysis
      task jgdas_analysis_high
        trigger ../prep/jgdas_prep == complete and ../prep/jgdas_emcsfc_sfc_prep == complete
         event 1 release_fcst
      endtask
    endfamily
    family forecast
      task jgdas_forecast
        trigger ../analysis/jgdas_analysis_high:release_fcst and ../enkf/innovate == complete
         event 1 release_fcst
      endtask
    endfamily
    family post_processing
      family bulletins
        task jgdas_mknavybulls
          trigger ../../dump/jgdas_dump == complete
        endtask
      endfamily
    endfamily
    family gempak
      task jgdas_gempak
        trigger ../forecast/jgdas_forecast == complete
      endtask
      task jgdas_gempak_meta
        trigger ./jgdas_gempak == complete
      endtask
      task jgdas_gempak_ncdc
        trigger ./jgdas_gempak == complete
      endtask
    endfamily
    family post
      task jgdas_post
        trigger ../forecast/jgdas_forecast == complete
      endtask
    endfamily
    family enkf
      task jgdas_enkf_select_obs
        trigger ../prep/jgdas_prep == complete and /prod18/gdas/enkf/jgdas_enkf_post == complete
      endtask
      family innovate
        trigger ./jgdas_enkf_select_obs == complete
        task jgdas_enkf_innovate_obs_grp1
        endtask
        task jgdas_enkf_innovate_obs_grp2
        endtask
        task jgdas_enkf_innovate_obs_grp3
        endtask
        task jgdas_enkf_innovate_obs_grp4
        endtask
        task jgdas_enkf_innovate_obs_grp5
        endtask
        task jgdas_enkf_innovate_obs_grp6
        endtask
        task jgdas_enkf_innovate_obs_grp7
        endtask
        task jgdas_enkf_innovate_obs_grp8
        endtask
        task jgdas_enkf_innovate_obs_grp9
        endtask
        task jgdas_enkf_innovate_obs_grp10
        endtask
        task jgdas_enkf_innovate_obs_grp11
        endtask
        task jgdas_enkf_innovate_obs_grp12
        endtask
        task jgdas_enkf_innovate_obs_grp13
        endtask
        task jgdas_enkf_innovate_obs_grp14
        endtask
        task jgdas_enkf_innovate_obs_grp15
        endtask
        task jgdas_enkf_innovate_obs_grp16
        endtask
      endfamily
      task jgdas_enkf_update
        trigger ./innovate == complete
      endtask
      task jgdas_enkf_inflate_recenter
        trigger ./jgdas_enkf_update == complete and ../analysis/jgdas_analysis_high == complete
      endtask
      family forecast
        trigger ./jgdas_enkf_inflate_recenter == complete
        task jgdas_enkf_fcst_grp1
        endtask
        task jgdas_enkf_fcst_grp2
        endtask
        task jgdas_enkf_fcst_grp3
        endtask
        task jgdas_enkf_fcst_grp4
        endtask
        task jgdas_enkf_fcst_grp5
        endtask
        task jgdas_enkf_fcst_grp6
        endtask
        task jgdas_enkf_fcst_grp7
        endtask
        task jgdas_enkf_fcst_grp8
        endtask
        task jgdas_enkf_fcst_grp9
        endtask
        task jgdas_enkf_fcst_grp10
        endtask
        task jgdas_enkf_fcst_grp11
        endtask
        task jgdas_enkf_fcst_grp12
        endtask
        task jgdas_enkf_fcst_grp13
        endtask
        task jgdas_enkf_fcst_grp14
        endtask
        task jgdas_enkf_fcst_grp15
        endtask
        task jgdas_enkf_fcst_grp16
        endtask
      endfamily
      task jgdas_enkf_post
        trigger ./forecast == complete
      endtask
    endfamily
  endfamily
  task cycle_end
  endtask
endsuite
