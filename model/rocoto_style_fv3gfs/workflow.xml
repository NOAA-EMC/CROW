<?xml version="1.0"?>
<!DOCTYPE workflow [
  <!ENTITY LOG_DIR "/gpfs/hps3/emc/nems/noscrub/Samuel.Trahan/blah/model/rocoto_style_fv3gfs/log">
  <!ENTITY TASK_THROTTLE "5">
  <!ENTITY PROJECT "GFS-T2O">
  <!ENTITY CYCLE_THROTTLE "2">
  <!ENTITY MAX_TRIES "1">
  <!ENTITY HOMEgfs "/gpfs/hps3/emc/nems/noscrub/Samuel.Trahan/snapshot_flat/gfs.v15.0.0">
  <!ENTITY EXPDIR "/gpfs/hps3/ptmp/Samuel.Trahan/expdir2/ecfgfsfv3">
  <!ENTITY QUEUE "dev">
  <!ENTITY COM "/gpfs/hps3/ptmp/Samuel.Trahan/comdir2/ecfgfsfv3">
  <!ENTITY QUEUESERV "dev_transfer">
]>
<!-- This Rocoto suite definition is automatically generated.
     Changes will be overwritten.  Please edit suite_def.yaml instead. -->
<workflow realtime="F"
          cyclethrottle="&CYCLE_THROTTLE;"
          scheduler="lsfcray"
          taskthrottle="&TASK_THROTTLE;" >
  <log><cyclestr>&LOG_DIR;/rocoto_@Y@m@d@H.log</cyclestr></log>
  <cycledef group="first">201801010000 201801010000 06:00:00</cycledef>
  <cycledef group="gdas">201801010000 201801021800 06:00:00</cycledef>
  <cycledef group="gfs">201801010000 201801021800 12:00:00</cycledef>
  <cycledef>201801010000 201801021800 12:00:00</cycledef>

  <metatask name="gdas">
    <var name="dummy_var_2">DUMMY_VALUE</var>
    <task name="gdas.prep" maxtries="1" cycledefs="gdas">
      <command>&HOMEgfs;/jobs/rocoto/prep.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gdas.prep</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.prep.log</cyclestr></join>
      
      <walltime>0:15:00</walltime>
      <memory>3072M</memory>
      <nodes>1:ppn=12</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gdas</value></envar>
      
      <dependency>
        <and>
          <metataskdep metatask="gdas.post" cycle_offset="-06:00:00"/>
          <datadep><cyclestr>/gpfs/tp1/emc/globaldump/@Y@m@d@H/gdas/gdas.t@Hz.updated.status.tm00.bufr_d</cyclestr></datadep>
        </and>
      </dependency>
    </task>
    <task name="gdas.anal" maxtries="1" cycledefs="gdas">
      <command>&HOMEgfs;/jobs/rocoto/anal.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gdas.anal</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.anal.log</cyclestr></join>
      
      <walltime>1:30:00</walltime>
      <memory>3072M</memory>
      <nodes>24:ppn=6</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gdas</value></envar>
      
      <dependency>
        <and>
          <taskdep task="gdas.prep"/>
          <taskdep task="gdas.enkf.epos" cycle_offset="-06:00:00"/>
        </and>
      </dependency>
    </task>
    <task name="gdas.fcst" maxtries="1" cycledefs="gdas">
      <command>&HOMEgfs;/jobs/rocoto/fcst.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gdas.fcst</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.fcst.log</cyclestr></join>
      
      <walltime>0:15:00</walltime>
      <memory>1024M</memory>
      <nodes>16:ppn=12</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gdas</value></envar>
      
      <dependency>
        <or>
          <taskdep task="gdas.anal"/>
          <not>
            <cycleexistdep cycle_offset="-06:00:00"/>
          </not>
        </or>
      </dependency>
    </task>
    <metatask name="gdas.post">
      <var name="dummy_var_3">DUMMY_VALUE</var>
      <task name="gdas.post.g000" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.post.g000</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.post.g000.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        <envar><name>FHRGRP</name><value>000</value></envar>
        <envar><name>FHRLST</name><value>anl</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gdas.@Y@m@d/@H/gdas.t@Hz.logf000.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gdas.post.g001" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.post.g001</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.post.g001.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        <envar><name>FHRGRP</name><value>001</value></envar>
        <envar><name>FHRLST</name><value>f000</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gdas.@Y@m@d/@H/gdas.t@Hz.logf001.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gdas.post.g002" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.post.g002</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.post.g002.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        <envar><name>FHRGRP</name><value>002</value></envar>
        <envar><name>FHRLST</name><value>f003</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gdas.@Y@m@d/@H/gdas.t@Hz.logf002.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gdas.post.g003" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.post.g003</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.post.g003.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        <envar><name>FHRGRP</name><value>003</value></envar>
        <envar><name>FHRLST</name><value>f006</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gdas.@Y@m@d/@H/gdas.t@Hz.logf003.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gdas.post.g004" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.post.g004</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.post.g004.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        <envar><name>FHRGRP</name><value>004</value></envar>
        <envar><name>FHRLST</name><value>f009</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gdas.@Y@m@d/@H/gdas.t@Hz.logf004.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gdas.post.g005" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.post.g005</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.post.g005.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        <envar><name>FHRGRP</name><value>005</value></envar>
        <envar><name>FHRLST</name><value>f012</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gdas.@Y@m@d/@H/gdas.t@Hz.logf005.nemsio</cyclestr></datadep>
        </dependency>
      </task>
    </metatask>
    <task name="gdas.vrfy" maxtries="1" cycledefs="gdas">
      <command>&HOMEgfs;/jobs/rocoto/vrfy.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gdas.vrfy</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.vrfy.log</cyclestr></join>
      
      <walltime>3:00:00</walltime>
      <memory>3072M</memory>
      <nodes>1:ppn=1</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gdas</value></envar>
      
      <dependency>
        <metataskdep metatask="gdas.post"/>
      </dependency>
    </task>
    <metatask name="gdas.enkf">
      <var name="dummy_var_4">DUMMY_VALUE</var>
      <task name="gdas.enkf.eobs" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/eobs.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.enkf.eobs</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.eobs.log</cyclestr></join>
        
        <walltime>0:45:00</walltime>
        <memory>3072M</memory>
        <nodes>12:ppn=6</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        
        <dependency>
          <and>
            <taskdep task="gdas.prep"/>
            <taskdep task="gdas.enkf.epos" cycle_offset="-06:00:00"/>
          </and>
        </dependency>
      </task>
      <metatask name="gdas.enkf.eomg">
        <var name="dummy_var_5">DUMMY_VALUE</var>
        <task name="gdas.enkf.eomg.grp1" maxtries="1" cycledefs="gdas">
          <command>&HOMEgfs;/jobs/rocoto/eomg.sh</command>
          <queue>&QUEUE;</queue>
          <account>&PROJECT;</account>
          <jobname>gdas.enkf.eomg.grp1</jobname>
          <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.eomg.grp1.log</cyclestr></join>
          
          <walltime>1:00:00</walltime>
          <memory>3072M</memory>
          <nodes>12:ppn=6</nodes>
          
          <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
          <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
          <envar><name>CDUMP</name><value>gdas</value></envar>
          <envar><name>ENSGRP</name><value>01</value></envar>
          
          <dependency>
            <taskdep task="gdas.enkf.eobs"/>
          </dependency>
        </task>
        <task name="gdas.enkf.eomg.grp2" maxtries="1" cycledefs="gdas">
          <command>&HOMEgfs;/jobs/rocoto/eomg.sh</command>
          <queue>&QUEUE;</queue>
          <account>&PROJECT;</account>
          <jobname>gdas.enkf.eomg.grp2</jobname>
          <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.eomg.grp2.log</cyclestr></join>
          
          <walltime>1:00:00</walltime>
          <memory>3072M</memory>
          <nodes>12:ppn=6</nodes>
          
          <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
          <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
          <envar><name>CDUMP</name><value>gdas</value></envar>
          <envar><name>ENSGRP</name><value>02</value></envar>
          
          <dependency>
            <taskdep task="gdas.enkf.eobs"/>
          </dependency>
        </task>
      </metatask>
      <task name="gdas.enkf.eupd" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/eupd.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.enkf.eupd</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.eupd.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>3072M</memory>
        <nodes>10:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        
        <dependency>
          <metataskdep metatask="gdas.enkf.eomg"/>
        </dependency>
      </task>
      <task name="gdas.enkf.ecen" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/ecen.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.enkf.ecen</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.ecen.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>254M</memory>
        <nodes>7:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        
        <dependency>
          <and>
            <taskdep task="gdas.enkf.eupd"/>
            <taskdep task="gdas.anal"/>
          </and>
        </dependency>
      </task>
      <metatask name="gdas.enkf.efcs">
        <var name="dummy_var_6">DUMMY_VALUE</var>
        <task name="gdas.enkf.efcs.grp1" maxtries="1" cycledefs="gdas">
          <command>&HOMEgfs;/jobs/rocoto/efcs.sh</command>
          <queue>&QUEUE;</queue>
          <account>&PROJECT;</account>
          <jobname>gdas.enkf.efcs.grp1</jobname>
          <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.efcs.grp1.log</cyclestr></join>
          
          <walltime>1:00:00</walltime>
          <memory>254M</memory>
          <nodes>16:ppn=12</nodes>
          
          <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
          <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
          <envar><name>CDUMP</name><value>gdas</value></envar>
          <envar><name>ENSGRP</name><value>01</value></envar>
          
          <dependency>
            <or>
              <taskdep task="gdas.enkf.ecen"/>
              <not>
                <cycleexistdep cycle_offset="-06:00:00"/>
              </not>
            </or>
          </dependency>
        </task>
        <task name="gdas.enkf.efcs.grp2" maxtries="1" cycledefs="gdas">
          <command>&HOMEgfs;/jobs/rocoto/efcs.sh</command>
          <queue>&QUEUE;</queue>
          <account>&PROJECT;</account>
          <jobname>gdas.enkf.efcs.grp2</jobname>
          <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.efcs.grp2.log</cyclestr></join>
          
          <walltime>1:00:00</walltime>
          <memory>254M</memory>
          <nodes>16:ppn=12</nodes>
          
          <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
          <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
          <envar><name>CDUMP</name><value>gdas</value></envar>
          <envar><name>ENSGRP</name><value>02</value></envar>
          
          <dependency>
            <or>
              <taskdep task="gdas.enkf.ecen"/>
              <not>
                <cycleexistdep cycle_offset="-06:00:00"/>
              </not>
            </or>
          </dependency>
        </task>
      </metatask>
      <task name="gdas.enkf.epos" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/epos.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gdas.enkf.epos</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gdas.enkf.epos.log</cyclestr></join>
        
        <walltime>0:30:00</walltime>
        <memory>254M</memory>
        <nodes>7:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gdas</value></envar>
        
        <dependency>
          <metataskdep metatask="gdas.enkf.efcs"/>
        </dependency>
      </task>
    </metatask>
  </metatask>
  <metatask name="gfs">
    <var name="dummy_var_7">DUMMY_VALUE</var>
    <task name="gfs.prep" maxtries="1" cycledefs="gfs">
      <command>&HOMEgfs;/jobs/rocoto/prep.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gfs.prep</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.prep.log</cyclestr></join>
      
      <walltime>0:15:00</walltime>
      <memory>3072M</memory>
      <nodes>1:ppn=12</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gfs</value></envar>
      
      <dependency>
        <and>
          <metataskdep metatask="gdas.post" cycle_offset="-06:00:00"/>
          <datadep><cyclestr>/gpfs/tp1/emc/globaldump/@Y@m@d@H/gfs/gfs.t@Hz.updated.status.tm00.bufr_d</cyclestr></datadep>
        </and>
      </dependency>
    </task>
    <task name="gfs.anal" maxtries="1" cycledefs="gfs">
      <command>&HOMEgfs;/jobs/rocoto/anal.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gfs.anal</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.anal.log</cyclestr></join>
      
      <walltime>1:30:00</walltime>
      <memory>3072M</memory>
      <nodes>24:ppn=6</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gfs</value></envar>
      
      <dependency>
        <and>
          <taskdep task="gfs.prep"/>
          <taskdep task="gdas.enkf.epos" cycle_offset="-06:00:00"/>
        </and>
      </dependency>
    </task>
    <task name="gfs.fcst" maxtries="1" cycledefs="gfs">
      <command>&HOMEgfs;/jobs/rocoto/fcst.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gfs.fcst</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.fcst.log</cyclestr></join>
      
      <walltime>6:00:00</walltime>
      <memory>1024M</memory>
      <nodes>16:ppn=12</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gfs</value></envar>
      
      <dependency>
        <taskdep task="gfs.anal"/>
      </dependency>
    </task>
    <metatask name="gfs.post">
      <var name="dummy_var_8">DUMMY_VALUE</var>
      <task name="gfs.post.grp000" maxtries="1" cycledefs="gfs">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gfs.post.grp000</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.post.grp000.log</cyclestr></join>
        
        <walltime>1:00:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gfs</value></envar>
        <envar><name>FHRGRP</name><value>000</value></envar>
        <envar><name>FHRLST</name><value>anl</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gfs.@Y@m@d/@H/gfs.t@Hz.logf000.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gfs.post.grp001" maxtries="1" cycledefs="gfs">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gfs.post.grp001</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.post.grp001.log</cyclestr></join>
        
        <walltime>1:00:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gfs</value></envar>
        <envar><name>FHRGRP</name><value>001</value></envar>
        <envar><name>FHRLST</name><value>f000</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gfs.@Y@m@d/@H/gfs.t@Hz.logf000.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gfs.post.grp002" maxtries="1" cycledefs="gfs">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gfs.post.grp002</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.post.grp002.log</cyclestr></join>
        
        <walltime>1:00:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gfs</value></envar>
        <envar><name>FHRGRP</name><value>002</value></envar>
        <envar><name>FHRLST</name><value>f006</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gfs.@Y@m@d/@H/gfs.t@Hz.logf006.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gfs.post.grp003" maxtries="1" cycledefs="gfs">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gfs.post.grp003</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.post.grp003.log</cyclestr></join>
        
        <walltime>1:00:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gfs</value></envar>
        <envar><name>FHRGRP</name><value>003</value></envar>
        <envar><name>FHRLST</name><value>f012</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gfs.@Y@m@d/@H/gfs.t@Hz.logf012.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gfs.post.grp004" maxtries="1" cycledefs="gfs">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gfs.post.grp004</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.post.grp004.log</cyclestr></join>
        
        <walltime>1:00:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gfs</value></envar>
        <envar><name>FHRGRP</name><value>004</value></envar>
        <envar><name>FHRLST</name><value>f018</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gfs.@Y@m@d/@H/gfs.t@Hz.logf018.nemsio</cyclestr></datadep>
        </dependency>
      </task>
      <task name="gfs.post.grp005" maxtries="1" cycledefs="gfs">
        <command>&HOMEgfs;/jobs/rocoto/post.sh</command>
        <queue>&QUEUE;</queue>
        <account>&PROJECT;</account>
        <jobname>gfs.post.grp005</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.post.grp005.log</cyclestr></join>
        
        <walltime>1:00:00</walltime>
        <memory>3072M</memory>
        <nodes>6:ppn=12</nodes>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>gfs</value></envar>
        <envar><name>FHRGRP</name><value>005</value></envar>
        <envar><name>FHRLST</name><value>f024</value></envar>
        
        <dependency>
          <datadep><cyclestr>&COM;/gfs.@Y@m@d/@H/gfs.t@Hz.logf024.nemsio</cyclestr></datadep>
        </dependency>
      </task>
    </metatask>
    <task name="gfs.vrfy" maxtries="1" cycledefs="gfs">
      <command>&HOMEgfs;/jobs/rocoto/vrfy.sh</command>
      <queue>&QUEUE;</queue>
      <account>&PROJECT;</account>
      <jobname>gfs.vrfy</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/gfs.vrfy.log</cyclestr></join>
      
      <walltime>6:00:00</walltime>
      <memory>3072M</memory>
      <nodes>1:ppn=1</nodes>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>gfs</value></envar>
      
      <dependency>
        <metataskdep metatask="gfs.post"/>
      </dependency>
    </task>
  </metatask>
  <metatask name="archive">
    <var name="dummy_var_9">DUMMY_VALUE</var>
    <task name="archive.gdasarch" maxtries="1" cycledefs="gdas">
      <command>&HOMEgfs;/jobs/rocoto/gdasarch.sh</command>
      <queue>&QUEUESERV;</queue>
      <account>&PROJECT;</account>
      <jobname>archive.gdasarch</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/archive.gdasarch.log</cyclestr></join>
      
      <walltime>6:00:00</walltime>
      <memory>3072M</memory>
      <cores>1</cores>
      <shared></shared>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>archive</value></envar>
      
      <dependency>
        <taskdep task="gdas.vrfy"/>
      </dependency>
    </task>
    <metatask name="archive.earc">
      <var name="dummy_var_10">DUMMY_VALUE</var>
      <task name="archive.earc.grp00" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/earc.sh</command>
        <queue>&QUEUESERV;</queue>
        <account>&PROJECT;</account>
        <jobname>archive.earc.grp00</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/archive.earc.grp00.log</cyclestr></join>
        
        <walltime>6:00:00</walltime>
        <memory>3072M</memory>
        <cores>1</cores>
        <shared></shared>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>archive</value></envar>
        <envar><name>ENSGRP</name><value>00</value></envar>
        
        <dependency>
          <taskdep task="gdas.enkf.epos"/>
        </dependency>
      </task>
      <task name="archive.earc.grp01" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/earc.sh</command>
        <queue>&QUEUESERV;</queue>
        <account>&PROJECT;</account>
        <jobname>archive.earc.grp01</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/archive.earc.grp01.log</cyclestr></join>
        
        <walltime>6:00:00</walltime>
        <memory>3072M</memory>
        <cores>1</cores>
        <shared></shared>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>archive</value></envar>
        <envar><name>ENSGRP</name><value>01</value></envar>
        
        <dependency>
          <taskdep task="gdas.enkf.epos"/>
        </dependency>
      </task>
      <task name="archive.earc.grp02" maxtries="1" cycledefs="gdas">
        <command>&HOMEgfs;/jobs/rocoto/earc.sh</command>
        <queue>&QUEUESERV;</queue>
        <account>&PROJECT;</account>
        <jobname>archive.earc.grp02</jobname>
        <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/archive.earc.grp02.log</cyclestr></join>
        
        <walltime>6:00:00</walltime>
        <memory>3072M</memory>
        <cores>1</cores>
        <shared></shared>
        
        <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
        <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
        <envar><name>CDUMP</name><value>archive</value></envar>
        <envar><name>ENSGRP</name><value>02</value></envar>
        
        <dependency>
          <taskdep task="gdas.enkf.epos"/>
        </dependency>
      </task>
    </metatask>
    <task name="archive.gfsarch" maxtries="1" cycledefs="gfs">
      <command>&HOMEgfs;/jobs/rocoto/gfsarch.sh</command>
      <queue>&QUEUESERV;</queue>
      <account>&PROJECT;</account>
      <jobname>archive.gfsarch</jobname>
      <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/archive.gfsarch.log</cyclestr></join>
      
      <walltime>6:00:00</walltime>
      <memory>3072M</memory>
      <cores>1</cores>
      <shared></shared>
      
      <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
      <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
      <envar><name>CDUMP</name><value>archive</value></envar>
      
      <dependency>
        <taskdep task="gfs.vrfy"/>
      </dependency>
    </task>
  </metatask>

  <!-- These final tasks are automatically generated to handle Complate and Trigger conditions, and alarms. -->

  <task name="final_no_alarm">
    <command>/bin/true</command>
    <queue>&QUEUESERV;</queue>
    <account>&PROJECT;</account>
    <jobname>final_no_alarm</jobname>
    <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/final_no_alarm.log</cyclestr></join>
    
    <walltime>0:02:00</walltime>
    <memory>300M</memory>
    <nodes>1:ppn=1</nodes>
    
    <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
    <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
    <envar><name>CDUMP</name><value>final_no_alarm</value></envar>
    
    <!-- no dependencies -->
  </task>
  <task name="final_for_gfs" cycledefs="gfs">
    <command>/bin/true</command>
    <queue>&QUEUESERV;</queue>
    <account>&PROJECT;</account>
    <jobname>final_for_gfs</jobname>
    <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/final_for_gfs.log</cyclestr></join>
    
    <walltime>0:02:00</walltime>
    <memory>300M</memory>
    <nodes>1:ppn=1</nodes>
    
    <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
    <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
    <envar><name>CDUMP</name><value>final_for_gfs</value></envar>
    
    <dependency>
      <and>
        <metataskdep metatask="gfs"/>
        <taskdep task="archive.gfsarch"/>
      </and>
    </dependency>
  </task>
  <task name="final_for_gdas" cycledefs="gdas">
    <command>/bin/true</command>
    <queue>&QUEUESERV;</queue>
    <account>&PROJECT;</account>
    <jobname>final_for_gdas</jobname>
    <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/final_for_gdas.log</cyclestr></join>
    
    <walltime>0:02:00</walltime>
    <memory>300M</memory>
    <nodes>1:ppn=1</nodes>
    
    <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
    <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
    <envar><name>CDUMP</name><value>final_for_gdas</value></envar>
    
    <dependency>
      <and>
        <metataskdep metatask="gdas"/>
        <taskdep task="archive.gdasarch"/>
        <metataskdep metatask="archive.earc"/>
      </and>
    </dependency>
  </task>
  <task name="final" final="true">
    <command>/bin/true</command>
    <queue>&QUEUESERV;</queue>
    <account>&PROJECT;</account>
    <jobname>final</jobname>
    <join><cyclestr>&LOG_DIR;/@Y@m@d/@H/final.log</cyclestr></join>
    
    <walltime>0:02:00</walltime>
    <memory>300M</memory>
    <nodes>1:ppn=1</nodes>
    
    <envar><name>CDATE</name><value><cyclestr>@Y@m@d@H</cyclestr></value></envar>
    <envar><name>EXPDIR</name><value>&EXPDIR;</value></envar>
    <envar><name>CDUMP</name><value>final</value></envar>
    
    <dependency>
      <and>
        <!-- All tasks must be complete or invalid for this cycle -->
        <or>
          <taskdep task="final_no_alarm"/>
          <not><taskvalid task="final_no_alarm"/></not>
        </or>
        <or>
          <taskdep task="final_for_gfs"/>
          <not><taskvalid task="final_for_gfs"/></not>
        </or>
        <or>
          <taskdep task="final_for_gdas"/>
          <not><taskvalid task="final_for_gdas"/></not>
        </or>
      </and>
    </dependency>
  </task>

</workflow>
