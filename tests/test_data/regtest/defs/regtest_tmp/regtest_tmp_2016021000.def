extern /totality_limit:TOTALITY
suite regtest_tmp_2016021000
  autocancel 5
  edit PDY '20160210'
  
  edit ECF_TRIES '1'
  # edit ECF_HOME '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/regtest/../test_data/regtest'
  edit CYC '00'
  edit MACHINE 'venus'
  edit ENVIR 'prod'
  edit ECF_OUT '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/regtest/../test_data/regtest/output'
  edit ECF_LOG '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/regtest/../test_data/regtest/ecf.log'
  edit E 'j'
  edit ECF_INCLUDE '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/regtest/../test_data/regtest/include'
  edit COM '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/test_data/regtest/comrot/regtest_tmp'
  
  
  
  
  
  edit QUEUE 'dev'
  edit QUEUESHARED 'dev'
  edit QUEUESERV 'dev'
  edit CPU_PROJECT 'none'
  
  # EMC overrides.  Should remove before implementation:
  edit DATAROOT '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/test_data/regtest/RUNDIRS/regtest_tmp'
  edit NWROOT '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow'
  
  inlimit /totality_limit:TOTALITY
  
  edit ECF_FILES '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/regtest/../test_data/regtest/scripts/regtest_tmp'
  family gdas # /regtest_tmp_2016021000/gdas
    edit RUN 'gdas'
    task jgdas_tropcy_cp
      edit ECF_DUMMY_TASK ''
      defstatus complete
    family forecast # /regtest_tmp_2016021000/gdas/forecast
      task jgdas_forecast_high
    endfamily # /regtest_tmp_2016021000/gdas/forecast
    family post # /regtest_tmp_2016021000/gdas/post
      task jgdas_post_manager
        trigger ../forecast == active or ../forecast == complete
        event 1 release_postanl
        event 2 release_post000
        event 3 release_post003
        event 4 release_post006
        event 5 release_post009
      task jgdas_post_anl
        edit FHR 'anl'
        trigger ./jgdas_post_manager:release_postanl or ../forecast == complete
        event 1 release_pgrb2_anl
      task jgdas_post_f000
        edit FHR '000'
        trigger ./jgdas_post_manager:release_post000 or ../forecast == complete
      task jgdas_post_f003
        edit FHR '003'
        trigger ./jgdas_post_manager:release_post003 or ../forecast == complete
      task jgdas_post_f006
        edit FHR '006'
        trigger ./jgdas_post_manager:release_post006 or ../forecast == complete
      task jgdas_post_f009
        edit FHR '009'
        trigger ./jgdas_post_manager:release_post009 or ../forecast == complete
    endfamily # /regtest_tmp_2016021000/gdas/post
    family enkf # /regtest_tmp_2016021000/gdas/enkf
      family forecast # /regtest_tmp_2016021000/gdas/enkf/forecast
        task jgdas_enkf_fcst_grp1
        task jgdas_enkf_fcst_grp2
        task jgdas_enkf_fcst_grp3
        task jgdas_enkf_fcst_grp4
        task jgdas_enkf_fcst_grp5
        task jgdas_enkf_fcst_grp6
        task jgdas_enkf_fcst_grp7
        task jgdas_enkf_fcst_grp8
      endfamily # /regtest_tmp_2016021000/gdas/enkf/forecast
      family post # /regtest_tmp_2016021000/gdas/enkf/post
        trigger ./forecast == complete
        task jgdas_enkf_post_f003
        task jgdas_enkf_post_f004
        task jgdas_enkf_post_f005
        task jgdas_enkf_post_f006
        task jgdas_enkf_post_f007
        task jgdas_enkf_post_f008
        task jgdas_enkf_post_f009
      endfamily # /regtest_tmp_2016021000/gdas/enkf/post
    endfamily # /regtest_tmp_2016021000/gdas/enkf
  endfamily # /regtest_tmp_2016021000/gdas
  family archive # /regtest_tmp_2016021000/archive
    edit ECF_TRIES '3'
    task jgdas_archive
      edit RUN 'gdas'
      trigger ../gdas == complete
    family jgdas_enkf_archive # /regtest_tmp_2016021000/archive/jgdas_enkf_archive
      edit RUN 'gdas'
      trigger ../gdas/enkf/post == complete
      task jgdas_enkf_archive_grp00
        time +00:10
        edit ENSGRP '00'
      task jgdas_enkf_archive_grp01
        time +00:10
        edit ENSGRP '01'
      task jgdas_enkf_archive_grp02
        time +00:10
        edit ENSGRP '02'
      task jgdas_enkf_archive_grp03
        time +00:10
        edit ENSGRP '03'
      task jgdas_enkf_archive_grp04
        time +00:10
        edit ENSGRP '04'
      task jgdas_enkf_archive_grp05
        time +00:10
        edit ENSGRP '05'
      task jgdas_enkf_archive_grp06
        time +00:10
        edit ENSGRP '06'
      task jgdas_enkf_archive_grp07
        time +00:10
        edit ENSGRP '07'
      task jgdas_enkf_archive_grp08
        time +00:10
        edit ENSGRP '08'
    endfamily # /regtest_tmp_2016021000/archive/jgdas_enkf_archive
  endfamily # /regtest_tmp_2016021000/archive
  task cycle_end
    edit ECF_JOB_CMD '%ECF_JOB% 1> %ECF_JOBOUT% 2>&1'
    edit ECF_KILL_CMD 'kill -15 %ECF_RID%'
    time 23:00
  task make_next_cycles
    # These variables are used by the make_next_cycles job to generate
    # suites for later cycles once earlier cycles have finished.
    edit WORKFLOW_FIRST_CYCLE '2016021000'
    edit WORKFLOW_LAST_CYCLE '2016021200'
    edit WORKFLOW_CYCLES_TO_GENERATE '5'
    edit WORKFLOW_CROW_HOME '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/regtest'
    edit WORKFLOW_EXPDIR '/Users/jiankuang/Documents/Eclipse_workspace/global-workflow/workflow/CROW/tests/test_data/regtest/expdir/regtest_tmp'
    edit RUN 'gdas'  # useless but required
    trigger ./gdas == complete
endsuite # /regtest_tmp_2016021000
