test_base: &test_base
  four: !calc 2*2
  B: !FirstTrue
    - { do: A, when: false }
    - { do: B, when: true }
    - { do: C, when: true }
  C: !LastTrue
    - { do: A, when: false }
    - { do: B, when: true }
    - { do: C, when: true }
  none: !LastTrue
    - { do: X, when: false }
    - { do: Y, when: false }
    - { do: Z, when: false }

  dt: !timedelta 03:20
  anltime: 2017-09-19t18:00:00
  fcsttime: !calc anltime+dt
  fYMDH: !calc tools.YMDH(fcsttime)

  # Conditionals on an empty list always return null:
  badlt: !LastTrue []
  badft: !FirstTrue []
  badxv: !FirstMax []
  badnv: !FirstMin []

  expandme: !Eval
    result: !calc "', '.join(lst)"
    lst:
      - abc
      - def
      - ghi

test:
  <<: *test_base