The “\-Configurator for Research and Operational Workflow” (C\-R\-O\-W) is a workflow toolbox that automates and streamlines the generation and configuration of E\-M\-C workflows, as well as connects system jobs (referred to as J-\/jobs in N\-C\-E\-P parlance) to a workflow manager like Rocoto or ec\-Flow.


\begin{DoxyItemize}
\item The arrows in this chart indicates the flow of configuration information.
\item Round-\/cornered boxes are A\-S\-C\-I\-I files at various stages, while diamond-\/shapes are scripts run by the user.
\item Yellow color indicates places for user input, while dark green boxes are the final products.
\end{DoxyItemize}

The increasing level of complexity of E\-M\-C workflows lead to several challenges for researchers and users. Most noticeably the difficulty for collaboration, documentation and R2\-O transition. Among them, one of the major issues is model configuration. In figure 1 below, we can see that the legacy way to configure the global workflow (e.\-g. for the F\-V3\-G\-F\-S) was through editing config files and manipulating the command line variables of setup\-\_\-expt script. This approach was becoming increasingly time consuming, unmanageable and error-\/prone with the growing complexity of the system structure.



The arrows in this chart indicates the flow of configuration information. Round-\/cornered boxes are A\-S\-C\-I\-I files at various stages, while diamond-\/shapes are scripts run by the user. Yellow color indicates places for user input, while dark green boxes are the final products.

The legacy method for establishing model experiments had little automation and relied on the user too heavily, leading to errors discovered after compute resources were already used and thus wasted. The effort taken to modernize the configuration system aimed to help standardize the process of setting up a workflow, minimize the efforts of researchers, and increase accountability.

A summary of the benefits of this smart, automated, flexible workflow toolbox are\-:


\begin{DoxyItemize}
\item Easier addition or removal of system jobs
\item Easier collaboration
\item Easier R2\-O transition
\item Easier documentation of model configurations
\item Turn-\/key conversion between different workflow managers (e.\-g. Rocoto or ec\-Flow).
\end{DoxyItemize}


\begin{DoxyCode}
user\_places: &user\_places
    PROJECT\_DIR: !error Please select a project directory.
accounting: & accounting
    cpu\_project: !error What accounting code \textcolor{keywordflow}{do} I use to submit jobs? # ie.: global
    hpss\_project: !error Where \textcolor{keywordflow}{do} I put data on HPSS?   # ie.: emc-global
\end{DoxyCode}
 