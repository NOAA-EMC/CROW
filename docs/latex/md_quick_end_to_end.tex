How to setup a stock experiment with Rocoto\-:

Checkout repository “\-C\-R\-O\-Wdemo2” branch

\begin{quotation}
git clone gerrit\-:global-\/workflow cd global-\/workflow git checkout C\-R\-O\-Wdemo2

\end{quotation}


Get C\-R\-O\-W submodule

\begin{quotation}
git submodule update --init --recursive

\end{quotation}


Build/link global-\/workflow \begin{DoxyVerb}> cd sorc
> sh checkout.sh
> sh build_all.sh
> sh link_fv3gfs.sh emc $target
...where $target is machine (wcoss_cray, theia, jet, or dell)
\end{DoxyVerb}


Set up user file

While at the top of global-\/workflow clone\-: \begin{quotation}
cd workflow

\end{quotation}
Copy default user file to your user file\-: \begin{DoxyVerb}> cp user.yaml.default user.yaml
\end{DoxyVerb}
 Open and modify user.\-yaml, the following are required to be set\-: \begin{DoxyVerb}- PROJECT_DIR: Place for experiment directory, make sure you have write access.
- cpu_project: cpu project that you are working with.
- hpss_project: hpss project that you are working with.
\end{DoxyVerb}


Run experiment setup script \begin{DoxyVerb}> cd CROW
> ./setup_case.sh tutorial_free_forecast test
\end{DoxyVerb}


If you see the following error\-: \begin{DoxyVerb}ERROR:crow.model.fv3gfs:More than one platform is available: $PLAT1, $PLAT2
ERROR:crow.model.fv3gfs:Pick one with -p option
\end{DoxyVerb}


That means you could access more than one computing platform from this environment (which is good). You need to make selection of computing platform between \$\-P\-L\-A\-T1 and \$\-P\-L\-A\-T2 by do the following\-:

In C\-R\-O\-W, there's a '-\/p' command option to the setup\-\_\-case command\-: \begin{DoxyVerb}> ./setup_case.sh -p $PLAT_x tutorial_free_forecast test
\end{DoxyVerb}


Execute this instead of the standard one, while \$\-P\-L\-A\-T\-\_\-x is the platform that you want to select.

Run workflow generation script \begin{DoxyVerb}> ./make_rocoto_xml_for.sh $EXPERIMENT_DIRECTORY
\end{DoxyVerb}


...where \$\-E\-X\-P\-E\-R\-I\-M\-E\-N\-T\-\_\-\-D\-I\-R\-E\-C\-T\-O\-R\-Y is the location of the folder created in the prior step (which contains your generated config files); this is where your resulting xml file will be found

Navigate to your experiment directory and start your experiment with Rocoto\-:

\begin{quotation}
module load rocoto rocotorun -\/d workflow.\-db -\/w workflow.\-xml \end{quotation}
